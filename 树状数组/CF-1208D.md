# Codeforces-1208D

# 题意

先有一原串定义为1～n的permutation-p[n]，现在知道新串arr的定义为：

arr[i] = {p[i]之前所有小于p[i]的数字之和}

现在给出arr，求原串。

## 分析

假设原串中的最后一个数字是x，则arr[n]的值一定是sum(1~x-1)，那么这个数字就确定下来了。

同理，但是需要在其中剔除掉之前确定的数字。

因为需要不断求和，所以使用树状数组，初始化为顺序序列，查询和使用二分。

## 总结

树状数组常用的模型

* 1-求和：主要用于统计个数，可以求逆序对。
* 下标：利用下标的合差求解数列中的移动操作步数问题。
* 类似加法运算律性质：譬如“区间最大值”等。
* 有规律的加和性质转化：本题的关键就是发现了其中存在完整的和，所以我们要对“有规律的加和”敏感，本题区间和可以转换从而缩小问题规模。
