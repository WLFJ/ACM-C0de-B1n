# Codeforces-1279D

# 题意

圣诞节来了，有x个小朋友每个人的心愿单上有k个礼物，圣诞老人太忙了，使用机器随机生成了一个三元组$$(x, y, z)$$,分别代表第x个小朋友，这个小朋友心愿单上的某个礼物y，要送给第z个小朋友。但是这样有可能翻车，小朋友z可能并不想要礼物y。

计算不翻车的概率是多少呢？

结果输出为$$\frac{a}{b} \mod 998244353$$

# 分析

概率计算

1. 根据概率的可加性，总的不翻车概率=每个人不翻车的概率之和。下面假设计算$$z_{lock}$$不翻车的概率。

2. 首先计算分母，一共的可能情况有多少种呢？$$(x, k_x, z_{lock})$$，我们知道一共有$$x \times k_x$$种

3. 分子为不翻车的概率，也就是z的心愿单中与x相同的部分。

这时我们发现这样的算法存在问题，我们发现这样的计算十分复杂，无法方便得到两个心愿单的交集。

刚才以人为研究对象出现问题，下面我们以“物”为研究对象。

1. 总概率=选择每件物平不翻车的概率之和。下面假设计算第$$i$$个物品的不翻车概率。

2. 根据三元组$$(x, y, z)$$我们知道，分母应当为$$x \times k_x \times z$$。

3. 不翻车的情况为选择第i件物品之和。

于是我们写一个循环，计算$$\frac{{Choose}_i}{x \times k_x \times z}$$

## 逆元计算

因为最后输出的是模数，所以我们要求解所有在分母数字的逆元。当MOD为质数时，其逆元为$$a^{mod - 2}$$
